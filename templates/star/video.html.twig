{% extends 'base.html.twig' %}

{% block title %}Star{% endblock %}
{% block sub_title %}Video{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>

      html body {
        min-height: unset;
        max-height: unset;
      }

      body .dark {
        background-color: black;
      }

      .dark {
        max-height: 596px;
      }

      .title-button {
        color: white;
        text-align: center;
        vertical-align: middle;
      }

      #videoTitleBar {
        position: absolute;
        top: 0;
        color: white;
        font-size: 24px;
        padding: 12px 24px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        width: 100%;
        text-align: center;
      }

    </style>
{% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script type='text/javascript'>
        // TODO: load jquery and stuff
        // TODO: get video_next.html style like button on image for video overlay like Netflix
        $(function () {

          $('#curVideo').on('ended', function(e) {
            var url = $("#nextVid").data("url");
            window.location = url;
          });

          $('#curVideo').on('play', function(e) {
            $("#videoTitleBar").hide();
          });

          $('#curVideo').on('pause', function(e) {
            $("#videoTitleBar").show();
          });

      });
</script>
{% endblock %}


{% block body %}

    {# videoData : {
      0 = ID / Path,
      1 = Name_English,
      2 = Name_German,
      3 = Season,
      4 = Episode,
      5 = EpisodeAll,
      6 = IsExtra
    #}

    <div class="dark">
    		<video id="curVideo" class="dark" width="100%" height="100%" controls preload="auto">
    			<source src="{{ videoPath ~ videoPathId }}.mp4" type="video/mp4">
  			{#<source src="{{ audioPath ~ videoPathId }}.ogg" type="audio/ogg">#}
    		  <p>Your browser does not support the video tag.</p>
    		</video>

        <div id="videoTitleBar" class="row">

          <div class="col-md-3">
            <a id="backButton" class="title-button pull-left"
               href="{{ path('star') }}"> {# change href later maybe #}
              <i class="fa fa-chevron-left"></i>
            </a>
          </div>

          <div class="col-md-6">
            <h3>
              <font id="titleFont">{{ videoTitle }}</font>
            </h3>
          </div>

          <div class="col-md-3">
            <a class="title-button pull-right"
               href="{{ path('star') }}"> {# change href later maybe #}
              <i class="fa fa-close"></i>
            </a>
          </div>

        </div>

        <div id="nextVid" data-url="{{ path('star-video-next') }}" hidden></div>
    </div>

{% endblock %}
